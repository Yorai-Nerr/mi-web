<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gestor de Cuentas</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
      color: white;
      background: #000;
    }
    #videoBackground, #imageBackground {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      display: none;
    }
    #welcomeScreen {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
      z-index: 10;
    }
    #mainContent {
      display: none;
      padding: 20px;
      min-height: 100vh;
      background: rgba(0, 0, 0, 0.8);
    }
    input, select, button {
      font-size: 1em;
      margin: 10px 0;
      padding: 10px;
      width: 100%;
      max-width: 400px;
      border-radius: 5px;
      border: none;
    }
    form, .background-options {
      margin: auto;
      max-width: 400px;
    }
    .accountItem {
      background: #333;
      margin: 10px auto;
      padding: 10px;
      border-radius: 10px;
      max-width: 500px;
      display: flex;
      align-items: center;
    }
    .accountItem img {
      width: 40px;
      height: 40px;
      object-fit: cover;
      margin-right: 10px;
    }
  </style>
</head>
<body>
  <video autoplay muted loop id="videoBackground"></video>
  <img id="imageBackground" />

  <div id="welcomeScreen">
    <h1>Bienvenido</h1>
    <input type="text" id="usernameInput" placeholder="Usuario" />
    <input type="password" id="passwordInput" placeholder="Clave" />
    <button onclick="login()">Entrar</button>
  </div>

  <div id="mainContent">
    <button onclick="logout()">Cerrar sesi칩n</button>
    <h2>Agregar Cuenta</h2>
    <form id="accountForm">
      <input type="email" id="emailInput" placeholder="Correo electr칩nico" required />
      <input type="text" id="passwordAccountInput" placeholder="Contrase침a" required />
      <select id="platformSelect" required>
        <option disabled selected>Selecciona una red social</option>
        <option value="Facebook" data-logo="https://cdn-icons-png.flaticon.com/512/733/733547.png">Facebook</option>
        <option value="Instagram" data-logo="https://cdn-icons-png.flaticon.com/512/174/174855.png">Instagram</option>
        <option value="TikTok" data-logo="https://cdn-icons-png.flaticon.com/512/3046/3046127.png">TikTok</option>
        <option value="Discord" data-logo="https://cdn-icons-png.flaticon.com/512/2111/2111370.png">Discord</option>
        <option value="Apple" data-logo="https://cdn-icons-png.flaticon.com/512/919/919851.png">Apple</option>
        <option value="Google" data-logo="https://cdn-icons-png.flaticon.com/512/300/300221.png">Google</option>
        <option value="Netases" data-logo="https://upload.wikimedia.org/wikipedia/commons/7/7e/Netases_logo.svg">Netases</option>
      </select>
      <input type="text" id="customNameInput" placeholder="Nombre personalizado (opcional)" />
      <input type="file" id="customImageInput" accept="image/*" />
      <button type="submit">Guardar Cuenta</button>
    </form>

    <div class="background-options">
      <h3>Fondo de bienvenida</h3>
      <label><input type="radio" name="bgOption" value="video" checked /> Video</label>
      <label><input type="radio" name="bgOption" value="image" /> Imagen</label>
      <input type="file" id="bgFileInput" accept="video/*,image/*" />
      <button onclick="applyBackground()">Aplicar fondo</button>
    </div>

    <div id="accountsList"></div>
  </div>

<script>
  const users = {
    usuario1: 'clave123',
    usuario2: 'clave456'
  };
  let currentUser = null;

  function login() {
    const user = document.getElementById('usernameInput').value.trim();
    const pass = document.getElementById('passwordInput').value.trim();
    if (users[user] && users[user] === pass) {
      currentUser = user;
      document.getElementById('welcomeScreen').style.display = 'none';
      document.getElementById('mainContent').style.display = 'block';
      loadAccounts();
      loadBackground();
    } else {
      alert('Usuario o clave incorrecta');
    }
  }

  function logout() {
    currentUser = null;
    document.getElementById('mainContent').style.display = 'none';
    document.getElementById('welcomeScreen').style.display = 'flex';
  }

  document.getElementById('accountForm').addEventListener('submit', e => {
    e.preventDefault();
    const email = document.getElementById('emailInput').value.trim();
    const pass = document.getElementById('passwordAccountInput').value.trim();
    const platform = document.getElementById('platformSelect').value;
    const logo = document.querySelector(`#platformSelect option[value='${platform}']`).dataset.logo;
    const customName = document.getElementById('customNameInput').value.trim();
    const imageInput = document.getElementById('customImageInput');

    const account = { email, pass, platform, logo, customName, customImage: null };

    if (imageInput.files.length > 0) {
      const reader = new FileReader();
      reader.onload = () => {
        account.customImage = reader.result;
        saveAccount(account);
      };
      reader.readAsDataURL(imageInput.files[0]);
    } else {
      saveAccount(account);
    }
  });

  function saveAccount(account) {
    let accounts = JSON.parse(localStorage.getItem(currentUser + '_accounts') || '[]');
    accounts.push(account);
    localStorage.setItem(currentUser + '_accounts', JSON.stringify(accounts));
    document.getElementById('accountForm').reset();
    loadAccounts();
  }

  function loadAccounts() {
    const list = document.getElementById('accountsList');
    const accounts = JSON.parse(localStorage.getItem(currentUser + '_accounts') || '[]');
    list.innerHTML = '';
    accounts.forEach(acc => {
      const item = document.createElement('div');
      item.className = 'accountItem';
      const img = document.createElement('img');
      img.src = acc.customImage || acc.logo;
      item.appendChild(img);
      const text = document.createElement('div');
      text.innerHTML = `<strong>${acc.customName || acc.platform}</strong><br>Correo: ${acc.email}<br>Contrase침a: ${acc.pass}`;
      item.appendChild(text);
      list.appendChild(item);
    });
  }

  function applyBackground() {
    const option = document.querySelector('input[name="bgOption"]:checked').value;
    const file = document.getElementById('bgFileInput').files[0];
    if (!file) return alert('Selecciona un archivo');

    const reader = new FileReader();
    reader.onload = () => {
      if (option === 'video') {
        const video = document.getElementById('videoBackground');
        video.innerHTML = `<source src="${reader.result}" type="${file.type}">`;
        video.style.display = 'block';
        document.getElementById('imageBackground').style.display = 'none';
        localStorage.setItem(currentUser + '_bgType', 'video');
        localStorage.setItem(currentUser + '_bgData', reader.result);
      } else {
        const image = document.getElementById('imageBackground');
        image.src = reader.result;
        image.style.display = 'block';
        document.getElementById('videoBackground').style.display = 'none';
        localStorage.setItem(currentUser + '_bgType', 'image');
        localStorage.setItem(currentUser + '_bgData', reader.result);
      }
    };
    reader.readAsDataURL(file);
  }

  function loadBackground() {
    const type = localStorage.getItem(currentUser + '_bgType');
    const data = localStorage.getItem(currentUser + '_bgData');
    if (type === 'video') {
      const video = document.getElementById('videoBackground');
      video.innerHTML = `<source src="${data}" type="video/mp4">`;
      video.style.display = 'block';
      document.getElementById('imageBackground').style.display = 'none';
    } else if (type === 'image') {
      const image = document.getElementById('imageBackground');
      image.src = data;
      image.style.display = 'block';
      document.getElementById('videoBackground').style.display = 'none';
    }
  }
</script>
</body>
</html>
